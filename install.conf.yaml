- defaults:
    link:
      relink: true
      create: true


- clean: ["~"]


- create:
    - ~/repositories
    - ~/.local/bin


# Symlink dotfiles
- link:
    ~/.config/alacritty/alacritty.yml:
      path: dotfiles/alacritty/alacritty.yml

    ~/.gitconfig:
      path: dotfiles/git/gitconfig

    ~/.gitignore_global:
      path: dotfiles/git/gitignore_global

    ~/.config/fish/config.fish:
      path: dotfiles/fish/config.fish
      
    ~/.config/fish/fishfile:
      path: dotfiles/fish/fishfile

    ~/.config/fish/functions/:
      path: dotfiles/fish/functions/*
      glob: true

    ~/.config/fish/completions/:
      path: dotfiles/fish/completions/*
      glob: true

    ~/.config/fish/conf.d/:
      path: dotfiles/fish/conf.d/*
      glob: true

    ~/.config/starship.toml:
      path: dotfiles/starship/starship.toml

    ~/.tmux.conf:
      path: dotfiles/tmux/tmux.conf

    ~/.vimrc:
      path: dotfiles/vim/vimrc
    
    ~/.ideavimrc:
      path: dotfiles/vim/ideavimrc

    ~/.config/Code/User/:
      path: dotfiles/vscode/*
      glob: true


# Install fisher plugins from fishfile
- shell:
  - fish -c fisher

    #- shell:
    #- cat dotfiles/vscode/vscode.extensions | xargs -L 1 code --install-extension

# Clone repos from repos_dump using git-get
- shell:
  - git get -d dotfiles/git/repos_dump

# Symlink tools (need to be cloned first) 
- link:
    ~/.local/bin/kubetail:
      path: ~/repositories/github.com/johanhaleby/kubetail/kubetail
      ignore-missing: true
